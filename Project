| **Column Name**         | **Value**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| ----------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **Graph_Name**          | Insert_KYC_Inbound_File_Tracker                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **Sub Graph**           | Insert into KYC_INBOUND_FILE_TRACKER                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| **Comments**            | Creates inbound file tracking data and inserts it into the `KYC_RGN_MAIN.KYC_INBOUND_FILE_TRACKER` table. Used to register inbound files, capture metadata (file name, directory, counts), and record load start events in the control table.                                                                                                                                                                                                                                                                                  |
| **type_of_action**      | Insert                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| **source_app**          | Ab Initio                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| **source_host**         | localhost                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| **source_path**         | `/home/bk40980/private_sand/GFTS/KYC/etl_interfaces/graphs/inbound_file_tracker_insert.grf`                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| **source_db**           | N/A (Ab Initio-generated data)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| **source_table**        | N/A (Create Data Component)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| **source_fileds**       | `file_name, inbound_directory, trailer_count, file_count, count_match, source_system, create_id, as_of_date`                                                                                                                                                                                                                                                                                                                                                                                                                   |
| **source_data_type**    | Mixed (String, Decimal, Date)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| **source_files_length** | Variable                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| **business_logic**      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|                         | *Create Data* | *Internal Ab Initio component* | Creates file tracker metadata records for each inbound source file. Generates runtime data like `file_name`, `inbound_directory`, `file_count`, and `as_of_date`. These are synthetic records used for logging and monitoring file ingestion.                                                                                                                                                                                                                                 |
|                         | *Reformat* | *Transform Component* | Applies business transformation before insert:<br> - Standardizes field values and trims input.<br> - Assigns current system date to `as_of_date`.<br> - Derives `count_match` flag as ‘Y’ or ‘N’ based on trailer vs. file record counts.<br> - Populates `create_id` with system user or parameter `${CREATE_ID}`.<br> - Ensures numeric fields (`trailer_count`, `file_count`) are consistent in type and length.<br> - Sets all string fields as UTF8 and formats date as `YYYYMMDD`. |
|                         | *Gather* | *Parallel Merge* | Collects reformatted records from multiple partitions or inputs before loading into the database. Ensures data consistency before insert into the Oracle table.                                                                                                                                                                                                                                                                                                                                  |
|                         | *Oracle Target* | *KYC_RGN_MAIN.KYC_INBOUND_FILE_TRACKER* | `id, file_name, inbound_directory, trailer_count, file_count, count_match, source_system, create_id, as_of_date` | *Database Insert Component* | Inserts newly created records into the Oracle table via `${DBC_FILE}` connection. Each record represents a single inbound file tracked in the system.                                                                                                                                                             |
| **target_app**          | Oracle                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| **target_host**         | oracle_host                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| **target_path**         | `${OUTPUT_PATH}`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| **target_File**         | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **target_table**        | `KYC_RGN_MAIN.KYC_INBOUND_FILE_TRACKER`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| **target_Key**          | `id` (auto-generated or UUID-based)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **target_filed**        | `id, file_name, inbound_directory, trailer_count, file_count, count_match, source_system, create_id, as_of_date`                                                                                                                                                                                                                                                                                                                                                                                                               |
| **target_field_type**   | String / Decimal / Date                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| **target_field_length** | Variable                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| **Query**               | Uses `${DBC_FILE}` Oracle connection. Executes embedded SQL `INSERT INTO KYC_RGN_MAIN.KYC_INBOUND_FILE_TRACKER (...) VALUES (:id, :file_name, :inbound_directory, :trailer_count, :file_count, :count_match, :source_system, :create_id, :as_of_date)` for each generated record. Logs written to `$AI_SERIAL_LOG/kyc_inbound_file_tracker_${source_system}_${FILE_TIME}.log`.                                                                                                                                                 |
